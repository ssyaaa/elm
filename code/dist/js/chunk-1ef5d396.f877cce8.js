(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1ef5d396"],{"13d5":function(t,e,s){"use strict";var r=s("23e7"),n=s("d58f").left,a=s("a640"),o=s("ae40"),i=a("reduce"),d=o("reduce",{1:0});r({target:"Array",proto:!0,forced:!i||!d},{reduce:function(t){return n(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},5530:function(t,e,s){"use strict";s.d(e,"a",(function(){return a}));s("a4d3"),s("4de4"),s("4160"),s("e439"),s("dbb4"),s("b64b"),s("159b");function r(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function n(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,r)}return s}function a(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?n(Object(s),!0).forEach((function(e){r(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):n(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}},"7eb4":function(t,e,s){"use strict";var r=s("c806"),n=s.n(r);n.a},"9ada":function(t,e,s){"use strict";s.r(e);var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"pay"},[s("van-nav-bar",{attrs:{title:t.$route.name,"left-arrow":"",fixed:""},on:{"click-left":function(e){return t.$router.go(-1)}}}),s("div",{staticClass:"address",on:{click:t.choseAddress}},[0!=t.addressGoods.length?s("div",[s("h4",[t._v(t._s(t.addressGoods.address))]),s("p",{staticClass:"name"},[s("span",[t._v(t._s(t.addressGoods.name))]),s("span",[t._v(t._s(t.addressGoods.tel))])])]):s("div",[t._v("请选择收货地址")])]),s("van-action-sheet",{attrs:{title:"选择收货地址"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[s("div",{staticClass:"content"},[s("van-address-list",{attrs:{list:t.list},on:{add:t.onAddAddress,select:t.choseId},model:{value:t.chosenAddressId,callback:function(e){t.chosenAddressId=e},expression:"chosenAddressId"}})],1)]),s("div",{staticClass:"payInfo"},[s("h5",[t._v(t._s(t.buyCartLists[0].foodName))]),t._l(t.buyCartLists,(function(t,e){return s("van-card",{key:e,attrs:{num:t.fooddetail.num,price:t.fooddetail.meny,desc:"描述信息",title:t.fooddetail.name,thumb:t.fooddetail.img}})})),s("div",{staticClass:"totals"},[s("span",[t._v("共"+t._s(t.num)+"件商品")]),s("span",[t._v("合计:"),s("strong",[t._v("￥"+t._s(t.totals))])])])],2),s("van-submit-bar",{attrs:{price:100*t.totals,label:" ","text-align":"left","button-text":"支付","safe-area-inset-bottom":""},on:{submit:t.onSubmit}})],1)},n=[],a=(s("4160"),s("13d5"),s("b0c0"),s("159b"),s("5530")),o=s("2f62"),i={data:function(){return{show:!1,chosenAddressId:"0",addressGoods:[]}},computed:Object(a["a"])({buyCartLists:function(){return this.$store.state.foodinfo.buyCartLists},totals:function(){return this.buyCartLists.reduce((function(t,e){return t+parseInt(e.fooddetail.meny)*parseInt(e.fooddetail.num)}),0)},num:function(){return this.buyCartLists.reduce((function(t,e){return t+parseInt(e.fooddetail.num)}),0)}},Object(o["c"])("address",["list"]),{},Object(o["c"])("order",["foodLists"])),methods:{onSubmit:function(){var t=this;this.$toast("支付成功");var e={},s="",r=new Date,n=r.getFullYear(),a=r.getMonth()+1,o=r.getDate();this.buyCartLists.forEach((function(r){s+=" "+r.fooddetail.name,e={title:r.foodName,price:t.totals,desc:n+"-"+a+"-"+o,thumb:r.fooddetail.img,num:t.num,foodDetail:s}})),this.foodLists.push(e),this.$router.push("/order")},choseAddress:function(){this.show=!0},choseId:function(){var t=this;this.list.forEach((function(e){t.chosenAddressId==e.id&&(t.addressGoods=e)}))},onAddAddress:function(){this.$router.push({name:"NewAddress",query:{isAdd:1}})}},created:function(){var t=this;this.$store.state.vanTabbar=!1,this.$axios.get("/findAddress").then((function(e){if(200==e.data.code){for(var s=[],r=0;r<e.data.result.length;r++)if(e.data.result[r].phoneNumber==t.$store.state.phoneNumber){var n={id:r-1+"",aid:e.data.result[r].aip,name:e.data.result[r].name,tel:e.data.result[r].tel,address:e.data.result[r].province+" "+e.data.result[r].city+"  "+e.data.result[r].county+"  "+e.data.result[r].addressDetail,isDefault:e.data.result[r].isDefault};"true"==n.isDefault&&(t.chosenAddressId=n.id),s.push(n)}t.$store.commit("address/changeData",{key:"list",value:s})}}))},mounted:function(){this.$store.state.vanTabbar=!1},destroyed:function(){this.$store.state.vanTabbar=!0}},d=i,c=(s("7eb4"),s("2877")),u=Object(c["a"])(d,r,n,!1,null,"2a27d408",null);e["default"]=u.exports},b0c0:function(t,e,s){var r=s("83ab"),n=s("9bf2").f,a=Function.prototype,o=a.toString,i=/^\s*function ([^ (]*)/,d="name";!r||d in a||n(a,d,{configurable:!0,get:function(){try{return o.call(this).match(i)[1]}catch(t){return""}}})},b64b:function(t,e,s){var r=s("23e7"),n=s("7b0b"),a=s("df75"),o=s("d039"),i=o((function(){a(1)}));r({target:"Object",stat:!0,forced:i},{keys:function(t){return a(n(t))}})},c806:function(t,e,s){},d58f:function(t,e,s){var r=s("1c0b"),n=s("7b0b"),a=s("44ad"),o=s("50c4"),i=function(t){return function(e,s,i,d){r(s);var c=n(e),u=a(c),f=o(c.length),l=t?f-1:0,b=t?-1:1;if(i<2)while(1){if(l in u){d=u[l],l+=b;break}if(l+=b,t?l<0:f<=l)throw TypeError("Reduce of empty array with no initial value")}for(;t?l>=0:f>l;l+=b)l in u&&(d=s(d,u[l],l,c));return d}};t.exports={left:i(!1),right:i(!0)}},dbb4:function(t,e,s){var r=s("23e7"),n=s("83ab"),a=s("56ef"),o=s("fc6a"),i=s("06cf"),d=s("8418");r({target:"Object",stat:!0,sham:!n},{getOwnPropertyDescriptors:function(t){var e,s,r=o(t),n=i.f,c=a(r),u={},f=0;while(c.length>f)s=n(r,e=c[f++]),void 0!==s&&d(u,e,s);return u}})},e439:function(t,e,s){var r=s("23e7"),n=s("d039"),a=s("fc6a"),o=s("06cf").f,i=s("83ab"),d=n((function(){o(1)})),c=!i||d;r({target:"Object",stat:!0,forced:c,sham:!i},{getOwnPropertyDescriptor:function(t,e){return o(a(t),e)}})}}]);
//# sourceMappingURL=chunk-1ef5d396.f877cce8.js.map